[gd_scene load_steps=22 format=3 uid="uid://de56lwhpalp6i"]

[ext_resource type="Script" path="res://Scripts/character_body_3d.gd" id="1_1qajl"]
[ext_resource type="PackedScene" uid="uid://ydcc2lt38ey4" path="res://Scenes/WaterGun.tscn" id="2_blk7k"]
[ext_resource type="Texture2D" uid="uid://dbvmntftxho3i" path="res://Main Menu/Untitled design (5).png" id="3_35suu"]
[ext_resource type="PackedScene" uid="uid://w1wambbwlgkr" path="res://Scenes/Shovel.tscn" id="4_g8q2f"]
[ext_resource type="PackedScene" uid="uid://bnwnvvpusfyvq" path="res://Scenes/interact_ray.tscn" id="5_aa38p"]
[ext_resource type="PackedScene" uid="uid://cke6o6g6twbrx" path="res://Scenes/pistol.tscn" id="5_vcecd"]
[ext_resource type="PackedScene" uid="uid://bl3000kwy1wke" path="res://funnyshid.glb" id="7_vo1a8"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0l4ar"]
radius = 0.499585
height = 1.24402

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_x68qc"]
height = 1.88505

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_x04fm"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_2li6r"]
bg_color = Color(0.776471, 0.0823529, 0.145098, 1)
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 2
corner_radius_top_right = 2
corner_radius_bottom_right = 2
corner_radius_bottom_left = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xckco"]
bg_color = Color(0.0728426, 0.0728426, 0.0728426, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)
border_blend = true
corner_radius_top_left = 2
corner_radius_top_right = 2
corner_radius_bottom_right = 2
corner_radius_bottom_left = 2
expand_margin_left = 2.0
expand_margin_top = 2.0
expand_margin_right = 2.0
expand_margin_bottom = 2.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_i112l"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_724cx"]
bg_color = Color(0.281779, 0.665975, 0.697433, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l8thu"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ryape"]
animation = &"sprint"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oqbbr"]
animation = &"strafe L"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_t2bsp"]
animation = &"strafe R"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_78npf"]
animation = &"backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ebkny"]
animation = &"jog"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_a7n0d"]
blend_point_0/node = SubResource("AnimationNodeAnimation_l8thu")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_ryape")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_oqbbr")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_t2bsp")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_78npf")
blend_point_4/pos = Vector2(0, -1)
blend_point_5/node = SubResource("AnimationNodeAnimation_ebkny")
blend_point_5/pos = Vector2(0, 0.8)

[node name="player" type="CharacterBody3D" groups=["Player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0462, 0)
slide_on_ceiling = false
floor_max_angle = 1.0472
script = ExtResource("1_1qajl")
mousesense = null
sprint = null
jump_sprint = null

[node name="crouching_collision_shape" type="CollisionShape3D" parent="." groups=["Player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.377854, 0)
shape = SubResource("CapsuleShape3D_0l4ar")
disabled = true

[node name="standing_collision_shape" type="CollisionShape3D" parent="." groups=["Player"]]
shape = SubResource("CapsuleShape3D_x68qc")

[node name="neck" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="Camera" type="Camera3D" parent="neck"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0373075, -0.503517)
current = true

[node name="TextureRect" type="TextureRect" parent="neck/Camera"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -125.0
offset_top = -125.0
offset_right = 125.0
offset_bottom = 125.0
grow_horizontal = 2
grow_vertical = 2

[node name="UntitledDesign(5)" type="Sprite2D" parent="neck/Camera/TextureRect"]
position = Vector2(125, 129)
scale = Vector2(0.3, 0.3)
texture = ExtResource("3_35suu")

[node name="Healthbar" type="ProgressBar" parent="neck/Camera/TextureRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -558.0
offset_top = 280.0
offset_right = -213.0
offset_bottom = 307.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxEmpty_x04fm")
theme_override_styles/fill = SubResource("StyleBoxFlat_2li6r")
value = 35.0
show_percentage = false

[node name="Damagebar" type="ProgressBar" parent="neck/Camera/TextureRect/Healthbar"]
z_index = -1
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -172.5
offset_top = -13.5
offset_right = 172.5
offset_bottom = 13.5
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_xckco")
theme_override_styles/fill = SubResource("StyleBoxFlat_i112l")
value = 45.0
show_percentage = false

[node name="DamageBarTimer" type="Timer" parent="neck/Camera/TextureRect/Healthbar"]
wait_time = 0.6
one_shot = true

[node name="Energybar" type="ProgressBar" parent="neck/Camera/TextureRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -558.0
offset_top = 245.0
offset_right = -213.0
offset_bottom = 272.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_xckco")
theme_override_styles/fill = SubResource("StyleBoxFlat_724cx")
value = 35.0
show_percentage = false

[node name="Watergun" parent="neck/Camera" instance=ExtResource("2_blk7k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.310352, -0.27509, -0.306297)

[node name="Root Scene" parent="neck/Camera" instance=ExtResource("4_g8q2f")]
transform = Transform3D(2.18557e-08, -3.30012e-15, -0.5, -7.54979e-08, -0.5, 0, -0.5, 7.54979e-08, -2.18557e-08, 0.751554, 0.0359479, -0.502501)

[node name="Pistol" parent="neck/Camera" instance=ExtResource("5_vcecd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.320275, -0.292238, -0.359945)

[node name="InteractRay" parent="neck/Camera" instance=ExtResource("5_aa38p")]

[node name="head_clearance" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.233632, 0)
target_position = Vector3(0, 0.75, 0)
collide_with_areas = true
debug_shape_custom_color = Color(0.988235, 0, 0, 1)

[node name="Regen Interval" type="Timer" parent="."]
one_shot = true

[node name="Regen" type="Timer" parent="."]
wait_time = 15.0
one_shot = true

[node name="Spawner" type="Node3D" parent="."]

[node name="Spawn Timer" type="Timer" parent="Spawner"]
autostart = true

[node name="Spawn Point" type="Marker3D" parent="Spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10)

[node name="funnyshid" parent="." instance=ExtResource("7_vo1a8")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -1.04741, 0)

[node name="Skeleton3D" parent="funnyshid" index="0"]
bones/1/position = Vector3(-0.366037, 0.592807, -98.5467)
bones/1/rotation = Quaternion(-0.68511, -0.267382, 0.245232, 0.631659)
bones/2/rotation = Quaternion(-0.0252308, 0.0405102, -0.00183025, 0.998859)
bones/3/position = Vector3(6.0114e-07, 11.1908, -2.75955e-06)
bones/3/rotation = Quaternion(0.0951101, 0.0800731, -0.00517179, 0.992228)
bones/4/position = Vector3(1.13275e-08, 12.7895, -5.75254e-07)
bones/4/rotation = Quaternion(0.166889, 0.0795636, -0.0129525, 0.982675)
bones/5/position = Vector3(-0.0568686, 14.2358, -2.08809)
bones/5/rotation = Quaternion(-0.0205381, -0.0102511, 0.00159205, 0.999735)
bones/6/position = Vector3(-6.56784e-07, 3.28022, 0.31333)
bones/6/rotation = Quaternion(-0.0717622, 0.175868, -0.00170565, 0.981793)
bones/7/position = Vector3(1.76448e-06, 25.6535, 2.45046)
bones/8/position = Vector3(6.72877, 11.7566, -2.05846)
bones/8/rotation = Quaternion(0.576171, 0.423511, -0.570139, 0.404484)
bones/9/position = Vector3(-6.35927e-06, 14.4488, -5.11796e-06)
bones/9/rotation = Quaternion(0.438583, -0.101402, 0.058373, 0.891042)
bones/10/position = Vector3(-4.59607e-07, 23.1603, 4.10732e-06)
bones/10/rotation = Quaternion(-0.0051653, 0.0642997, 0.423042, 0.903811)
bones/11/position = Vector3(6.54588e-06, 24.0717, -1.78549e-06)
bones/11/rotation = Quaternion(-0.106382, 0.134847, 0.0145466, 0.985032)
bones/12/position = Vector3(-1.50904, 4.17338, 1.92652)
bones/12/rotation = Quaternion(0.278631, 0.123415, 0.192438, 0.932792)
bones/13/position = Vector3(-3.90326e-06, 3.87038, 2.21291e-05)
bones/13/rotation = Quaternion(-0.00735513, 0.000341564, -0.00287752, 0.999969)
bones/14/position = Vector3(3.84314e-06, 4.71064, 3.29373e-06)
bones/14/rotation = Quaternion(-3.92286e-06, -6.33224e-07, 8.24777e-06, 1)
bones/15/position = Vector3(1.07148e-06, 3.83037, 2.20009e-05)
bones/16/position = Vector3(-2.8555, 14.6694, 0.398758)
bones/16/rotation = Quaternion(0.081302, -0.0032174, 0.0656382, 0.994521)
bones/17/position = Vector3(2.597e-06, 3.24861, -3.64227e-06)
bones/17/rotation = Quaternion(0.210219, -0.00255551, 0.00128373, 0.97765)
bones/18/position = Vector3(3.42243e-06, 2.65958, 1.07636e-05)
bones/18/rotation = Quaternion(-9.28904e-07, 5.01187e-08, 5.21285e-06, 1)
bones/19/position = Vector3(2.13026e-06, 3.63317, -1.12998e-06)
bones/20/position = Vector3(-1.51305e-05, 14.4098, 2.20309e-05)
bones/20/rotation = Quaternion(0.141089, 0.00239851, -0.0703534, 0.987491)
bones/21/position = Vector3(3.78284e-06, 3.25906, -4.708e-06)
bones/21/rotation = Quaternion(0.206841, -0.00147973, 0.016062, 0.978242)
bones/22/position = Vector3(-2.88322e-07, 2.63987, 8.02002e-06)
bones/22/rotation = Quaternion(1.2342e-06, -2.20847e-08, 1.46848e-07, 1)
bones/23/position = Vector3(-2.46787e-07, 3.67385, 1.47681e-06)
bones/24/position = Vector3(3.30494, 13.1915, -0.322022)
bones/24/rotation = Quaternion(0.279139, -0.0201636, -0.116389, 0.952958)
bones/25/position = Vector3(4.2979e-06, 2.71764, -1.50094e-07)
bones/25/rotation = Quaternion(0.29173, 0.00183381, 0.0251014, 0.95617)
bones/26/position = Vector3(2.39972e-06, 2.13446, 2.44608e-06)
bones/26/rotation = Quaternion(-4.47275e-06, 1.97096e-07, -1.34359e-05, 1)
bones/27/position = Vector3(2.98226e-06, 2.78688, 6.38092e-06)
bones/28/position = Vector3(5.61421, 11.6364, 0.516551)
bones/28/rotation = Quaternion(0.306441, -0.0222373, -0.150365, 0.939676)
bones/29/position = Vector3(-3.23104e-06, 1.55937, -5.61356e-07)
bones/29/rotation = Quaternion(0.352161, 0.0121584, 0.0497656, 0.934536)
bones/30/position = Vector3(3.63477e-06, 1.54061, -5.8531e-07)
bones/30/rotation = Quaternion(8.19219e-07, 1.70968e-07, 1.42431e-06, 1)
bones/31/position = Vector3(7.32388e-07, 1.6687, 7.90571e-07)
bones/32/position = Vector3(-6.72877, 11.7567, -2.05845)
bones/32/rotation = Quaternion(0.623153, -0.385239, 0.532165, 0.424349)
bones/33/position = Vector3(-4.94128e-06, 14.4488, -5.51989e-06)
bones/33/rotation = Quaternion(0.41885, 0.0949005, 0.177071, 0.885553)
bones/34/position = Vector3(4.54272e-06, 23.1603, 6.77814e-06)
bones/34/rotation = Quaternion(0.060458, 0.00168412, -0.368595, 0.927621)
bones/35/position = Vector3(7.45276e-07, 24.0717, 3.97867e-06)
bones/35/rotation = Quaternion(0.115458, -0.0514386, -0.0970864, 0.987217)
bones/36/position = Vector3(1.50905, 4.17341, 1.927)
bones/36/rotation = Quaternion(0.203923, 0.0110801, -0.235209, 0.950247)
bones/37/position = Vector3(3.19765e-06, 3.87041, -2.05844e-05)
bones/37/rotation = Quaternion(0.00670061, 0.00227838, 0.180961, 0.983465)
bones/38/position = Vector3(7.29483e-06, 4.71032, -2.35521e-05)
bones/38/rotation = Quaternion(-6.34014e-05, -1.22955e-07, -9.82835e-06, 1)
bones/39/position = Vector3(-1.28881e-06, 3.83038, 9.6914e-07)
bones/40/position = Vector3(2.8555, 14.6694, 0.399001)
bones/40/rotation = Quaternion(0.0481856, 0.00989694, 0.00701935, 0.998765)
bones/41/position = Vector3(1.24171e-06, 3.2486, -1.76504e-06)
bones/41/rotation = Quaternion(0.153967, 0.00059829, 0.00873722, 0.988037)
bones/42/position = Vector3(9.59964e-07, 2.65962, -2.25669e-07)
bones/42/rotation = Quaternion(5.13714e-08, -2.12291e-07, -4.04584e-06, 1)
bones/43/position = Vector3(2.92785e-06, 3.6331, 1.93691e-06)
bones/44/position = Vector3(9.07618e-06, 14.4098, 3.04582e-06)
bones/44/rotation = Quaternion(0.117248, 0.00873883, 0.0241075, 0.992772)
bones/45/position = Vector3(-2.82703e-06, 3.25909, 9.31128e-07)
bones/45/rotation = Quaternion(0.311104, 0.00174789, -0.0219621, 0.950121)
bones/46/position = Vector3(-8.01895e-07, 2.6398, -4.45556e-06)
bones/46/rotation = Quaternion(6.58897e-07, -1.05439e-07, 1.81118e-06, 1)
bones/47/position = Vector3(-1.5591e-06, 3.6739, 2.11065e-06)
bones/48/position = Vector3(-3.30494, 13.1915, -0.322024)
bones/48/rotation = Quaternion(0.214664, -0.00561408, 0.0648846, 0.974514)
bones/49/position = Vector3(-3.89896e-06, 2.71759, -3.52907e-06)
bones/49/rotation = Quaternion(0.345844, -0.00256736, -0.0369489, 0.937561)
bones/50/position = Vector3(-2.81816e-07, 2.1345, -2.32708e-06)
bones/50/rotation = Quaternion(-6.66742e-07, -3.17104e-07, 1.12011e-05, 1)
bones/51/position = Vector3(3.15616e-06, 2.78681, 5.00593e-06)
bones/52/position = Vector3(-5.92198, 11.6364, 0.517002)
bones/52/rotation = Quaternion(0.214374, -0.00926136, 0.0910394, 0.972456)
bones/53/position = Vector3(-4.88224e-06, 1.55931, 1.61263e-06)
bones/53/rotation = Quaternion(0.374558, -0.0135192, -0.0713062, 0.924359)
bones/54/position = Vector3(-1.34725e-06, 1.54059, 7.41687e-06)
bones/54/rotation = Quaternion(-2.29875e-06, 1.51224e-07, 3.43542e-07, 1)
bones/55/position = Vector3(3.2503e-07, 1.66868, -6.3272e-07)
bones/56/position = Vector3(-9.94098, -5.27241, -1.01088)
bones/56/rotation = Quaternion(-0.12121, 0.0261757, 0.983693, 0.130273)
bones/57/position = Vector3(2.39594e-06, 43.3648, -1.09455e-06)
bones/57/rotation = Quaternion(-0.321524, 0.0772041, -0.0204587, 0.943527)
bones/58/position = Vector3(-9.34445e-07, 44.493, -3.19591e-06)
bones/58/rotation = Quaternion(0.581719, 0.110796, 0.0927213, 0.800456)
bones/59/position = Vector3(2.2128e-06, 20, 4.82715e-06)
bones/59/rotation = Quaternion(0.369797, 0.0387901, 0.00335904, 0.928296)
bones/60/position = Vector3(1.63711e-06, 10, -6.41381e-08)
bones/61/position = Vector3(9.61826, -5.27231, -1.01089)
bones/61/rotation = Quaternion(0.0777237, 0.221217, 0.966911, -0.100523)
bones/62/position = Vector3(1.12683e-07, 43.365, -2.4593e-06)
bones/62/rotation = Quaternion(-0.337914, 0.118516, -0.0324465, 0.933121)
bones/63/rotation = Quaternion(0.482938, -0.069194, -0.00696284, 0.872888)
bones/64/rotation = Quaternion(0.37787, -0.0192515, -0.028225, 0.925228)
bones/65/position = Vector3(-5.61199e-07, 10, 1.97273e-07)

[node name="AnimationTree" type="AnimationTree" parent="funnyshid/AnimationPlayer" index="0"]
root_node = NodePath("../..")
tree_root = SubResource("AnimationNodeBlendSpace2D_a7n0d")
anim_player = NodePath("..")
parameters/blend_position = Vector2(0, 0.00943398)

[connection signal="timeout" from="neck/Camera/TextureRect/Healthbar/DamageBarTimer" to="." method="_on_damage_bar_timer_timeout"]
[connection signal="timeout" from="Spawner/Spawn Timer" to="." method="_on_spawn_timer_timeout"]

[editable path="funnyshid"]
