[gd_scene load_steps=22 format=3 uid="uid://de56lwhpalp6i"]

[ext_resource type="Script" path="res://Scripts/character_body_3d.gd" id="1_1qajl"]
[ext_resource type="PackedScene" uid="uid://ydcc2lt38ey4" path="res://Scenes/WaterGun.tscn" id="2_blk7k"]
[ext_resource type="Texture2D" uid="uid://dbvmntftxho3i" path="res://Main Menu/Untitled design (5).png" id="3_35suu"]
[ext_resource type="PackedScene" uid="uid://w1wambbwlgkr" path="res://Scenes/Shovel.tscn" id="4_g8q2f"]
[ext_resource type="PackedScene" uid="uid://bnwnvvpusfyvq" path="res://Scenes/interact_ray.tscn" id="5_aa38p"]
[ext_resource type="PackedScene" uid="uid://cke6o6g6twbrx" path="res://Scenes/pistol.tscn" id="5_vcecd"]
[ext_resource type="PackedScene" uid="uid://bl3000kwy1wke" path="res://funnyshid.glb" id="7_vo1a8"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0l4ar"]
radius = 0.499585
height = 1.24402

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_x68qc"]
height = 1.88505

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_x04fm"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_2li6r"]
bg_color = Color(0.776471, 0.0823529, 0.145098, 1)
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 2
corner_radius_top_right = 2
corner_radius_bottom_right = 2
corner_radius_bottom_left = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xckco"]
bg_color = Color(0.0728426, 0.0728426, 0.0728426, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)
border_blend = true
corner_radius_top_left = 2
corner_radius_top_right = 2
corner_radius_bottom_right = 2
corner_radius_bottom_left = 2
expand_margin_left = 2.0
expand_margin_top = 2.0
expand_margin_right = 2.0
expand_margin_bottom = 2.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_i112l"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_724cx"]
bg_color = Color(0.281779, 0.665975, 0.697433, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l8thu"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ryape"]
animation = &"sprint"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oqbbr"]
animation = &"strafe L"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_t2bsp"]
animation = &"strafe R"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_78npf"]
animation = &"backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ebkny"]
animation = &"jog"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_a7n0d"]
blend_point_0/node = SubResource("AnimationNodeAnimation_l8thu")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_ryape")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_oqbbr")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_t2bsp")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_78npf")
blend_point_4/pos = Vector2(0, -1)
blend_point_5/node = SubResource("AnimationNodeAnimation_ebkny")
blend_point_5/pos = Vector2(0, 0.8)

[node name="player" type="CharacterBody3D" groups=["Player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0462, 0)
slide_on_ceiling = false
floor_max_angle = 1.0472
script = ExtResource("1_1qajl")

[node name="crouching_collision_shape" type="CollisionShape3D" parent="." groups=["Player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.377854, 0)
shape = SubResource("CapsuleShape3D_0l4ar")
disabled = true

[node name="standing_collision_shape" type="CollisionShape3D" parent="." groups=["Player"]]
shape = SubResource("CapsuleShape3D_x68qc")

[node name="neck" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="Camera" type="Camera3D" parent="neck"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0373075, -0.503517)
current = true

[node name="TextureRect" type="TextureRect" parent="neck/Camera"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -125.0
offset_top = -125.0
offset_right = 125.0
offset_bottom = 125.0
grow_horizontal = 2
grow_vertical = 2

[node name="UntitledDesign(5)" type="Sprite2D" parent="neck/Camera/TextureRect"]
position = Vector2(125, 129)
scale = Vector2(0.3, 0.3)
texture = ExtResource("3_35suu")

[node name="Healthbar" type="ProgressBar" parent="neck/Camera/TextureRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -558.0
offset_top = 280.0
offset_right = -213.0
offset_bottom = 307.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxEmpty_x04fm")
theme_override_styles/fill = SubResource("StyleBoxFlat_2li6r")
value = 35.0
show_percentage = false

[node name="Damagebar" type="ProgressBar" parent="neck/Camera/TextureRect/Healthbar"]
z_index = -1
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -172.5
offset_top = -13.5
offset_right = 172.5
offset_bottom = 13.5
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_xckco")
theme_override_styles/fill = SubResource("StyleBoxFlat_i112l")
value = 45.0
show_percentage = false

[node name="DamageBarTimer" type="Timer" parent="neck/Camera/TextureRect/Healthbar"]
wait_time = 0.6
one_shot = true

[node name="Energybar" type="ProgressBar" parent="neck/Camera/TextureRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -558.0
offset_top = 245.0
offset_right = -213.0
offset_bottom = 272.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_xckco")
theme_override_styles/fill = SubResource("StyleBoxFlat_724cx")
value = 35.0
show_percentage = false

[node name="Watergun" parent="neck/Camera" instance=ExtResource("2_blk7k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.310352, -0.27509, -0.306297)

[node name="Root Scene" parent="neck/Camera" instance=ExtResource("4_g8q2f")]
transform = Transform3D(2.18557e-08, -3.30012e-15, -0.5, -7.54979e-08, -0.5, 0, -0.5, 7.54979e-08, -2.18557e-08, 0.751554, 0.0359479, -0.502501)

[node name="Pistol" parent="neck/Camera" instance=ExtResource("5_vcecd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.320275, -0.292238, -0.359945)

[node name="InteractRay" parent="neck/Camera" instance=ExtResource("5_aa38p")]

[node name="head_clearance" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.233632, 0)
target_position = Vector3(0, 0.75, 0)
collide_with_areas = true
debug_shape_custom_color = Color(0.988235, 0, 0, 1)

[node name="Regen Interval" type="Timer" parent="."]
one_shot = true

[node name="Regen" type="Timer" parent="."]
wait_time = 15.0
one_shot = true

[node name="Spawner" type="Node3D" parent="."]

[node name="Spawn Timer" type="Timer" parent="Spawner"]
autostart = true

[node name="Spawn Point" type="Marker3D" parent="Spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10)

[node name="funnyshid" parent="." instance=ExtResource("7_vo1a8")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -1.04741, 0)

[node name="Skeleton3D" parent="funnyshid" index="0"]
bones/1/position = Vector3(-0.327947, 0.799264, -98.6637)
bones/1/rotation = Quaternion(-0.685452, -0.268005, 0.245509, 0.630916)
bones/2/rotation = Quaternion(-0.0261306, 0.0405509, -0.00154192, 0.998835)
bones/3/position = Vector3(6.01896e-07, 11.1908, -2.76466e-06)
bones/3/rotation = Quaternion(0.0926218, 0.0801578, -0.00459623, 0.992459)
bones/4/position = Vector3(1.02947e-08, 12.7895, -5.60601e-07)
bones/4/rotation = Quaternion(0.164617, 0.0796848, -0.0124267, 0.983055)
bones/5/position = Vector3(-0.0568686, 14.2358, -2.08809)
bones/5/rotation = Quaternion(-0.0160577, -0.0102521, 0.00149407, 0.999817)
bones/6/position = Vector3(-6.56668e-07, 3.28022, 0.31333)
bones/6/rotation = Quaternion(-0.0670442, 0.176444, -0.000899406, 0.982024)
bones/7/position = Vector3(1.76648e-06, 25.6535, 2.45046)
bones/8/position = Vector3(6.72877, 11.7566, -2.05846)
bones/8/rotation = Quaternion(0.566825, 0.434117, -0.569466, 0.407384)
bones/9/position = Vector3(-6.36763e-06, 14.4488, -5.11781e-06)
bones/9/rotation = Quaternion(0.443186, -0.0996811, 0.0575701, 0.889008)
bones/10/position = Vector3(-4.42406e-07, 23.1603, 4.1129e-06)
bones/10/rotation = Quaternion(-0.00425684, 0.0655592, 0.424119, 0.90322)
bones/11/position = Vector3(6.54983e-06, 24.0717, -1.79019e-06)
bones/11/rotation = Quaternion(-0.0989038, 0.134692, 0.0130514, 0.985853)
bones/12/position = Vector3(-1.50904, 4.17338, 1.92652)
bones/12/rotation = Quaternion(0.280427, 0.125535, 0.185832, 0.93331)
bones/13/position = Vector3(-3.88861e-06, 3.87038, 2.21561e-05)
bones/13/rotation = Quaternion(-0.00700617, 0.00044426, -0.00277964, 0.999972)
bones/14/position = Vector3(3.83843e-06, 4.71064, 3.32813e-06)
bones/14/rotation = Quaternion(-3.92931e-06, -6.33158e-07, 8.26475e-06, 1)
bones/15/position = Vector3(1.07171e-06, 3.83037, 2.20195e-05)
bones/16/position = Vector3(-2.8555, 14.6694, 0.398758)
bones/16/rotation = Quaternion(0.0613693, -0.00505559, 0.0631693, 0.996101)
bones/17/position = Vector3(2.60537e-06, 3.24861, -3.64599e-06)
bones/17/rotation = Quaternion(0.174699, -0.00166207, -0.0030879, 0.984616)
bones/18/position = Vector3(3.42522e-06, 2.65958, 1.07812e-05)
bones/18/rotation = Quaternion(-9.25414e-07, 5.02277e-08, 5.22306e-06, 1)
bones/19/position = Vector3(2.10888e-06, 3.63317, -1.13579e-06)
bones/20/position = Vector3(-1.51445e-05, 14.4098, 2.20346e-05)
bones/20/rotation = Quaternion(0.143179, 0.00194957, -0.0678913, 0.987364)
bones/21/position = Vector3(3.79493e-06, 3.25906, -4.71637e-06)
bones/21/rotation = Quaternion(0.237048, -0.00168105, 0.0194069, 0.971303)
bones/22/position = Vector3(-2.83673e-07, 2.63987, 8.0321e-06)
bones/22/rotation = Quaternion(1.23591e-06, -2.20429e-08, 1.4683e-07, 1)
bones/23/position = Vector3(-2.51901e-07, 3.67385, 1.49099e-06)
bones/24/position = Vector3(3.30494, 13.1915, -0.322022)
bones/24/rotation = Quaternion(0.281125, -0.0207184, -0.11393, 0.952659)
bones/25/position = Vector3(4.30069e-06, 2.71764, -1.42656e-07)
bones/25/rotation = Quaternion(0.2925, 0.00182192, 0.0251674, 0.955932)
bones/26/position = Vector3(2.39507e-06, 2.13446, 2.44596e-06)
bones/26/rotation = Quaternion(-4.47967e-06, 1.97105e-07, -1.34614e-05, 1)
bones/27/position = Vector3(3.02317e-06, 2.78688, 6.39394e-06)
bones/28/position = Vector3(5.61421, 11.6364, 0.516551)
bones/28/rotation = Quaternion(0.307904, -0.0229616, -0.147669, 0.939607)
bones/29/position = Vector3(-3.24568e-06, 1.55937, -5.58566e-07)
bones/29/rotation = Quaternion(0.353606, 0.0121708, 0.0498013, 0.933988)
bones/30/position = Vector3(3.64221e-06, 1.54061, -5.93969e-07)
bones/30/rotation = Quaternion(8.1934e-07, 1.70982e-07, 1.42775e-06, 1)
bones/31/position = Vector3(7.41686e-07, 1.6687, 7.85515e-07)
bones/32/position = Vector3(-6.72877, 11.7567, -2.05845)
bones/32/rotation = Quaternion(0.614784, -0.394963, 0.531657, 0.428236)
bones/33/position = Vector3(-4.95244e-06, 14.4488, -5.5141e-06)
bones/33/rotation = Quaternion(0.423587, 0.0914774, 0.176303, 0.883812)
bones/34/position = Vector3(4.56573e-06, 23.1603, 6.79441e-06)
bones/34/rotation = Quaternion(0.0648277, -0.00384505, -0.367835, 0.927621)
bones/35/position = Vector3(7.54562e-07, 24.0717, 3.98334e-06)
bones/35/rotation = Quaternion(0.114877, -0.0479376, -0.0920367, 0.987945)
bones/36/position = Vector3(1.50905, 4.17341, 1.927)
bones/36/rotation = Quaternion(0.202502, 0.0125218, -0.233567, 0.950938)
bones/37/position = Vector3(3.22084e-06, 3.87041, -2.06007e-05)
bones/37/rotation = Quaternion(0.00654113, 0.00154007, 0.181258, 0.983413)
bones/38/position = Vector3(7.27623e-06, 4.71032, -2.35729e-05)
bones/38/rotation = Quaternion(-6.3526e-05, -1.23025e-07, -9.84704e-06, 1)
bones/39/position = Vector3(-1.29253e-06, 3.83038, 9.66583e-07)
bones/40/position = Vector3(2.8555, 14.6694, 0.399001)
bones/40/rotation = Quaternion(0.0437763, 0.00945703, 0.00908798, 0.998955)
bones/41/position = Vector3(1.24729e-06, 3.2486, -1.76655e-06)
bones/41/rotation = Quaternion(0.152765, 0.000534611, 0.00887481, 0.988223)
bones/42/position = Vector3(9.67402e-07, 2.65962, -2.30318e-07)
bones/42/rotation = Quaternion(5.13519e-08, -2.12291e-07, -4.05433e-06, 1)
bones/43/position = Vector3(2.92599e-06, 3.6331, 1.94319e-06)
bones/44/position = Vector3(9.04921e-06, 14.4098, 3.05977e-06)
bones/44/rotation = Quaternion(0.116413, 0.0087204, 0.0241791, 0.992868)
bones/45/position = Vector3(-2.80937e-06, 3.25909, 9.23224e-07)
bones/45/rotation = Quaternion(0.315861, 0.00175605, -0.0223981, 0.948539)
bones/46/position = Vector3(-7.88877e-07, 2.6398, -4.46509e-06)
bones/46/rotation = Quaternion(6.58923e-07, -1.05435e-07, 1.81464e-06, 1)
bones/47/position = Vector3(-1.56189e-06, 3.6739, 2.11576e-06)
bones/48/position = Vector3(-3.30494, 13.1915, -0.322024)
bones/48/rotation = Quaternion(0.216468, -0.005512, 0.0642649, 0.974157)
bones/49/position = Vector3(-3.90453e-06, 2.71759, -3.5207e-06)
bones/49/rotation = Quaternion(0.347428, -0.00256424, -0.0370953, 0.936969)
bones/50/position = Vector3(-2.84606e-07, 2.1345, -2.32859e-06)
bones/50/rotation = Quaternion(-6.66698e-07, -3.17095e-07, 1.12232e-05, 1)
bones/51/position = Vector3(3.15802e-06, 2.78681, 5.01639e-06)
bones/52/position = Vector3(-5.92198, 11.6364, 0.517002)
bones/52/rotation = Quaternion(0.213189, -0.00957971, 0.0911265, 0.972705)
bones/53/position = Vector3(-4.88596e-06, 1.55931, 1.61077e-06)
bones/53/rotation = Quaternion(0.376415, -0.0136469, -0.0714712, 0.92359)
bones/54/position = Vector3(-1.34818e-06, 1.54059, 7.43291e-06)
bones/54/rotation = Quaternion(-2.29888e-06, 1.51482e-07, 3.43451e-07, 1)
bones/55/position = Vector3(3.12013e-07, 1.66868, -6.35741e-07)
bones/56/position = Vector3(-9.94098, -5.27241, -1.01088)
bones/56/rotation = Quaternion(-0.121605, 0.0224901, 0.983661, 0.130832)
bones/57/position = Vector3(2.39914e-06, 43.3648, -1.09974e-06)
bones/57/rotation = Quaternion(-0.315027, 0.0774433, -0.0206644, 0.945692)
bones/58/position = Vector3(-9.36417e-07, 44.493, -3.19323e-06)
bones/58/rotation = Quaternion(0.580036, 0.111128, 0.0935397, 0.801536)
bones/59/position = Vector3(2.21837e-06, 20, 4.83731e-06)
bones/59/rotation = Quaternion(0.369608, 0.0389225, 0.00324389, 0.928367)
bones/60/position = Vector3(1.6423e-06, 10, -6.43125e-08)
bones/61/position = Vector3(9.61826, -5.27231, -1.01089)
bones/61/rotation = Quaternion(0.0778201, 0.219817, 0.96729, -0.0998718)
bones/62/position = Vector3(1.15589e-07, 43.365, -2.46332e-06)
bones/62/rotation = Quaternion(-0.336632, 0.118391, -0.0321647, 0.93361)
bones/63/rotation = Quaternion(0.482784, -0.0688672, -0.00624706, 0.873005)
bones/64/rotation = Quaternion(0.377428, -0.0190631, -0.0282544, 0.925411)
bones/65/position = Vector3(-5.61971e-07, 10, 1.9861e-07)

[node name="AnimationTree" type="AnimationTree" parent="funnyshid/AnimationPlayer" index="0"]
root_node = NodePath("../..")
tree_root = SubResource("AnimationNodeBlendSpace2D_a7n0d")
anim_player = NodePath("..")
parameters/blend_position = Vector2(0, 0.00787401)

[connection signal="timeout" from="neck/Camera/TextureRect/Healthbar/DamageBarTimer" to="." method="_on_damage_bar_timer_timeout"]
[connection signal="timeout" from="Spawner/Spawn Timer" to="." method="_on_spawn_timer_timeout"]

[editable path="funnyshid"]
